<data-definition>
    <struct-type type-name='activity_info'>
        <int32_t name='unk1' comment='uninitialized'/>
        <pointer name='person1' type-name='unit' comment='diplomat'/>
        <pointer name='person2' type-name='unit' comment='count'/>
        <pointer name='place' type-name='building'/>
        <int16_t name='unk2' comment='1'/>
        <int8_t name='unk3' comment='3'/>
        <int16_t name='unk4' comment='0'/>
        <int32_t name='unk5' comment='-1'/>
    </struct-type>

    <struct-type type-name='dipscript_info'>
        <int32_t name='unk1' comment='uninit'/>
        <stl-string name='script_file' comment='data/dipscript/dwarf_liaison'/>
        <stl-vector name='script_steps' type-name='pointer'/>
        <stl-vector name='unknown' comment='null'/>
        <stl-string name='code' comment='DWARF_LIAISON etc'/>
        <code-helper name='describe'>$.code</code-helper>
    </struct-type>

    <struct-type type-name='dipscript_popup_info'>
        <pointer type-name='unit'/>
        <pointer type-name='activity_info'/>
        <int32_t/>
    </struct-type>

    <struct-type type-name='meeting_diplomat_info'>
        <int32_t name='civ_id' ref-target='historical_entity'/>
        <int16_t/>
        <int16_t/>
        <int32_t name='diplomat_id' ref-target='historical_figure'/>
        <int32_t comment='-1'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <pointer type-name='entity_sell_requests' name='sell_requests'/>
        <pointer type-name='entity_buy_requests' name='buy_requests'/>
        <pointer name='dipscript' type-name='dipscript_info'/>
        <int32_t/>
        <stl-vector type-name='pointer'/> active_script_vars
        <stl-string/>
        <stl-string/>
        <int32_t/>
        <stl-vector pointer-type='meeting_event' name='events'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
    </struct-type>

    <enum-type type-name='meeting_event_type' base-type='int16_t'>
        <enum-item name="DiscussCurrent"/>
        <enum-item name="RequestPeace"/>
        <enum-item name="TreeQuota"/>
        <enum-item name="ExportAgreement"/>
        <enum-item name="ImportAgreement"/>
        <enum-item name="PleasantPlace"/>
    </enum-type>

    <struct-type type-name='meeting_event'>
        <enum base-type='int16_t' type-name='meeting_event_type' name='type'/>
        <int16_t name='subtype'/>
        <int16_t/>
        <int32_t/>
        <int32_t/>
        <int32_t name='year'/>
        <int8_t name='season'/>
        <int16_t name='season_tick'/>
        <pointer type-name='entity_sell_prices' name='sell_prices'/>
        <pointer type-name='entity_buy_prices' name='buy_prices'/>
    </struct-type>

    <struct-type type-name='pet_info'>
        <int32_t name='unk0' comment='uninitialized'/>
        <int32_t name='pet_item_id' ref-target='item'/>
        <int32_t name='pet_unit_id' ref-target='unit'/>
        <compound name='name' type-name='language_name'/>
        <code-helper name='describe'>(describe-obj $.name)</code-helper>
        <int32_t name='unk3'/>
        <int32_t name='owner_id' ref-target='unit'/>
    </struct-type>

    <struct-type type-name='party_info'>
        <stl-vector name="units">
            <pointer type-name="unit"/>
        </stl-vector>
        <pointer name="location" type-name="building"/>
        <int32_t name="timer" comment='-1 per 10'/>
        <int32_t/>
    </struct-type>

    <struct-type type-name='room_rent_info'>
        <stl-vector name='elements'>
            <pointer type-name='building'/>
        </stl-vector>
        <int32_t name='rent_value'/>
        <int32_t init-value='0'/>
    </struct-type>

    <struct-type type-name='schedule_info' key-field='id' instance-vector='$global.world.schedules.all'>
        <int32_t name='id'/>
        <stl-vector name='slots' pointer-type='schedule_slot'/>
    </struct-type>

    <struct-type type-name='schedule_slot'>
        <int16_t name='type' comment='0:Eat, 1:Sleep, 2-4:???'/>
        <int16_t name='start_time'/>
        <int16_t name='end_time'/>
        <int16_t/>
        <int8_t name='processed'/>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
