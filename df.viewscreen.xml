<data-definition>
    <enum-type type-name='interface_breakdown_types' base-type='int8_t'>
        <enum-item name='NONE'/>
        <enum-item name='QUIT'/>
        <enum-item name='STOPSCREEN'/>
        <enum-item name='TOFIRST'/>
    </enum-type>

    <class-type type-name='viewscreen' original-name='viewscreenst' custom-methods='true'>
        <pointer name='child' type-name='viewscreen'/>
        <pointer name='parent' type-name='viewscreen'/>
        <enum base-type='int8_t' name='breakdown_level' type-name='interface_breakdown_types'/>
        <int8_t name='option_key_pressed'/>
        
        <virtual-methods>
            <vmethod name='view'/>
            <vmethod ret-type='bool' name='is_legacy_screen' comment='use update instead of feed+logic+render'/>
            <vmethod name='input'/>
            <vmethod name='logic'/>
            <vmethod name='render'/>
            <vmethod name='help'/>
            <vmethod ret-type='int8_t' name='movies_okay'/>
            <vmethod ret-type='int8_t' name='is_option_screen'/>
            <vmethod ret-type='int8_t' name='is_save_screen'/>
            <vmethod ret-type='bool' name='key_conflict'>
                <enum type-name='interface_key' base-type='int32_t'/>
            </vmethod>
            <vmethod is-destructor='true'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='layer_object' original-name='layer_objectst'>
        <bool name='enabled'/>
        <bool name='active'/>

        <virtual-methods>
            No destructor anywhere:
            <vmethod ret-type='int32_t' name='getFirstVisible'/>
            <vmethod ret-type='int32_t' name='getLastVisible'/>
            <vmethod ret-type='int32_t' name='getX1'/>
            <vmethod ret-type='int32_t' name='getY1'/>
            <vmethod ret-type='int32_t' name='getX2'/>

            <vmethod ret-type='int32_t' name='getY2'/>
            <vmethod ret-type='int32_t' comment='list 1; button,base -1'/>
            <vmethod ret-type='int32_t' name='getListCursor'/>
            <vmethod name='setListCursor'> <int32_t/> </vmethod>
            <vmethod name='input'/>

            <vmethod ret-type='bool' name='isSetMouseLRCur'/>
            <vmethod ret-type='bool' name='isSetMouseLCur'/>
            <vmethod ret-type='bool' name='isSetMouseRCur'/>
            <vmethod ret-type='int32_t' name='getMouseLCur'/>
            <vmethod ret-type='int32_t' name='getMouseRCur'/>

            <vmethod name='getMouseLClickPos'> <pointer type-name='int32_t' name='x'/> <pointer type-name='int32_t' name='y'/> </vmethod>
            <vmethod name='getMouseRClickPos'> <pointer type-name='int32_t' name='x'/> <pointer type-name='int32_t' name='y'/> </vmethod>
            <vmethod ret-type='int32_t' name='getListLength'/>
            <vmethod name='setListLength'> <int32_t/> </vmethod>
            <vmethod ret-type='int32_t' name='getMouseX'/>

            <vmethod ret-type='int32_t' name='getMouseY'/>
            <vmethod ret-type='int32_t' name='getMouseXold'/>
            <vmethod ret-type='int32_t' name='getMouseYold'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='layer_object_listst' inherits-from='layer_object'>
        <int32_t name='cursor'/>
        <int32_t name='num_entries'/>
        <int32_t name='x1'/>
        <int32_t name='y1'/>
        <int32_t name='page_size'/>
        <int32_t name='x2'/>
        <int32_t name='y2'/>
        <int32_t name='mouse_l_cur'/>
        <int32_t name='mouse_r_cur'/>
        <bool name='rclick_scrolls'/>
        <int32_t name='flag' comment='for standardscrolling'/>
        <enum name='key_lclick' base-type='int32_t' type-name='interface_key'/>
        <enum name='key_rclick' base-type='int32_t' type-name='interface_key'/>
    </class-type>

    <class-type type-name='layer_object_buttonst' inherits-from='layer_object'>
        <int32_t name='x1'/>
        <int32_t name='y1'/>
        <int32_t name='x2'/>
        <int32_t name='y2'/>
        <int32_t name='has_mouse_lclick'/>
        <int32_t name='has_mouse_rclick'/>
        <int32_t name='mouse_lclick_x'/>
        <int32_t name='mouse_lclick_y'/>
        <int32_t name='mouse_rclick_x'/>
        <int32_t name='mouse_rclick_y'/>
        <int32_t name='mouse_x'/>
        <int32_t name='mouse_y'/>
        <int32_t name='mouse_x_old'/>
        <int32_t name='mouse_y_old'/>
        <int8_t name='handle_mouselbtndown'/>
        <int8_t name='handle_mouserbtndown'/>
    </class-type>

    <class-type type-name='viewscreen_layer' original-name='viewscreen_layerst' inherits-from='viewscreen'>
        <stl-vector pointer-type="layer_object" name="layer_objects"/>
    </class-type>

    <struct-type type-name='interfacekeyst'>
        <stl-string name='description'/>
        <stl-string name='token'/>
        <uint8_t name='key'/>
        <int32_t name='last_used_for_held'/>
        <int16_t name='held'/>
        <int8_t name='is_shift'/>
        <int8_t name='is_ctrl'/>
        <int8_t name='is_alt'/>
    </struct-type>

    <struct-type type-name='interfacest'>
        <compound name='announcements'>
            <stl-vector name='reports' pointer-type='report'/>
            <stl-vector name='popups' pointer-type='popup_message'/>
            <int32_t name='report_timer'/>
        </compound>
        <uint8_t name='current_key'/>
        <int8_t name='current_shift'/>
        <int8_t name='current_caps'/>
        <int8_t name='current_ctrl'/>
        <int8_t name='current_alt'/>

        <static-array count='256' name='keyNames'>
            <stl-string name='normal'/>
            <stl-string name='shift'/>
            <stl-string name='ctrl'/>
            <stl-string name='ctrl_shift'/>
            <stl-string name='alt'/>
            <stl-string name='alt_shift'/>
            <stl-string name='alt_ctrl'/>
            <stl-string name='alt_ctrl_shift'/>
        </static-array>

        <compound name='view' type-name='viewscreen'/>

        <int32_t name='time'/>
        <stl-vector name='inputbuffer' type-name='uint8_t'/>
        <stl-bit-vector name='inputbuffer_shift'/>
        <stl-bit-vector name='inputbuffer_caps'/>
        <stl-bit-vector name='inputbuffer_ctrl'/>
        <stl-bit-vector name='inputbuffer_alt'/>
        <uint32_t name='flag'/>
        <static-array count='1117' name='keybinds' type-name='interfacekeyst' index-enum='interface_key'/>
        <int32_t name='shutdown_interface_tickcount'/>
        <int32_t name='shutdown_interface_for_ms'/>
        <static-array count='256' name='keyboardstate' type-name='int8_t'/>
        <int8_t name='supermovie_on'/>
        <int32_t name='supermovie_pos'/>
        <int32_t name='supermovie_delayrate'/>
        <int32_t name='supermovie_delaystep'/>
        <stl-vector pointer-type='stl-string' name='supermovie_sound'/>
        <static-array name='supermovie_sound_time' count='16' comment='SOUND_CHANNELNUM'>
            <static-array count='200' type-name='int32_t'/>
        </static-array>
        <static-array type-name='int8_t' name='supermoviebuffer' count='800000'/>
        <static-array type-name='int8_t' name='supermoviebuffer_comp' count='1000000'/>
        <int32_t name='currentblocksize'/>
        <int32_t name='nextfilepos'/>
        <int8_t name='first_movie_write'/>
        <stl-string name='movie_file'/>
    </struct-type>

    <class-type type-name='viewscreen_conversationst' inherits-from='viewscreen'>
        <pointer type-name='conversation' name='conversation'/>
        <int32_t/>
        <int32_t name='sel_line'/>
        <int16_t/>
    </class-type>

    <class-type type-name='viewscreen_dungeonmodest' inherits-from='viewscreen'>
        <int32_t name="x"/>
        <int32_t name="y"/>
        <int32_t name="z"/>
        <int8_t/>
        <int8_t/>
    </class-type>

    <class-type type-name='viewscreen_adventure_travelst' inherits-from='viewscreen'>
        <int32_t name=''/>
        <int32_t name='cursor'/>
        <stl-vector name='sites' pointer-type='world_site'/>
        <stl-vector name='moving_parties' pointer-type='moving_party'/>
    </class-type>

    <class-type type-name='viewscreen_adventure_logst' inherits-from='viewscreen'>
        <bool name='show_map'/>
        <bool name='at_target'/>
        <bool/>
        <compound type-name='coord2d' name='travel_g'/>
        <compound type-name='coord2d' name='travel_r'/>
        <compound type-name='coord2d'/>
        <compound type-name='coord2d'/>
        <compound type-name='coord2d' name='camera_pos'/>
        <uint32_t name='cursor'/>
        <bool name='draw_line'/>
        <int32_t name='type'/>
        <int16_t name='x_min'/>
        <int16_t name='y_min'/>
        <int16_t name='x_max'/>
        <int16_t name='y_max'/>
        <stl-vector name="sites" pointer-type='world_site'/>
        <stl-vector name="tasks" pointer-type='adv_task'/>
        <stl-vector name="entities" pointer-type='historical_entity'/>
        <stl-vector name="regions" pointer-type='world_region'/>
    </class-type>

    <class-type type-name='viewscreen_dungeon_wrestlest' inherits-from='viewscreen'>
        <pointer type-name='unit' name='unit1'/>
        <pointer type-name='unit' name='unit2'/>
        <int8_t name='dir'/>
        <int32_t/>
        <stl-vector name='wrestle_items' pointer-type='unit_item_wrestle'/>
        <int32_t/>
        <stl-vector type-name='int8_t'/>
        <stl-vector type-name='int32_t'/>
        <compound name='sub'>
            <pointer type-name='unit' name='unit'/>
            <int8_t/>
            <int8_t/>
            <stl-vector pointer-type='item'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector pointer-type='item'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector pointer-type='unit_item_wrestle'/>
            <stl-vector pointer-type='unit_item_wrestle'/>
            <stl-vector pointer-type='unit_inventory_item'/>
            <stl-vector pointer-type='unit_inventory_item'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>
        </compound>
    </class-type>

    <class-type type-name='viewscreen_dungeon_monsterstatusst'
                inherits-from='viewscreen'>
        <pointer name="unit" type-name="unit"/>

        <int32_t name="inventory_cursor"/>
        <int32_t name="body_part_cursor"/>

        <stl-vector name="body_part">
            <int16_t refers-to='$$._global.unit.body.body_plan.body_parts[$]'/>
        </stl-vector>
        <stl-vector name='inventory' pointer-type='unit_inventory_item'/>
        <stl-vector name='contaminants' pointer-type='unit_contaminant'/>
    </class-type>

    <class-type type-name='viewscreen_dungeon_announcest' inherits-from='viewscreen'>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <int8_t/>
    </class-type>

    <struct-type type-name='setup_character_info'>
        <compound type-name='language_name'/>
        <int16_t name='race'/>
        <int8_t name='sex'/>
        <static-array type-name='int32_t' count='81'/>
        <int32_t name='entity_id' ref-target='historical_entity'/>
        <int16_t name='nemesis_idx'/>
        <int32_t/>
        <int32_t/>
        <int16_t/>
    </struct-type>

    <class-type type-name='viewscreen_setupadventurest' inherits-from='viewscreen'>
        <bool name='editing_name'/>
        <stl-string name='custom_name'/>
        <int32_t name='race_cursor'/>
        <int32_t name='skill_cursor'/>
        <int32_t/>?
        <int16_t name='step'/>
        <compound type-name='setup_character_info' name='character'/>
        <stl-vector type-name='int16_t' name='race'/>
        <stl-vector type-name='int32_t' name='entity_id' ref-target='historical_entity'/>
        <stl-vector type-name='int16_t' name='nemesis_idx'/>
        <stl-vector type-name='int16_t' name='avail_skills'/>
    </class-type>

    <class-type type-name='viewscreen_dwarfmodest' inherits-from='viewscreen'>
        <int8_t/>
        <stl-vector type-name='int32_t' name='jeweler_cutgem' ref-target='matgloss_stone'/> plus the 3 glass types at the end
        <stl-vector type-name='int32_t' name='jeweler_encrust' ref-target='matgloss_stone'/>
        <stl-vector name='unit_labor_list'>
            <enum type-name='unit_labor' base-type='int32_t'/>
        </stl-vector>
        <bool name='single_step'/>
    </class-type>

    <class-type type-name='viewscreen_selectitemst' inherits-from='viewscreen'>
        <pointer name='p_item_type' type-name='int16_t'/>
        <pointer name='p_item_subtype' type-name='int16_t'/>
        <pointer name='p_material' type-name='int16_t'/>
        <pointer name='p_matgloss' type-name='int32_t'/>
        <pointer name='choice' type-name='embark_item_choice'/>
        <pointer name='screen' type-name='viewscreen_setupdwarfgamest'/>
        <static-array name='page_base' count='103' index-enum='entity_sell_category'>
            <stl-vector type-name='int32_t'/>
        </static-array>
        <static-string size='200' name='title'/>
        <static-string size='200'/>
        <static-string size='200' name='filter'/>
        <int32_t name='right_pos'/>
        <int32_t name='right_page_base'/>
        <bool name='right_list'/>
        <int32_t name='sel_category' refers-to='$$._parent.categories[$]'/>
        <stl-vector name='categories'>
            <enum base-type='int16_t' type-name='entity_sell_category'/>
        </stl-vector>
    </class-type>

    <class-type type-name='viewscreen_export_graphical_mapst' inherits-from='viewscreen'>
        <int16_t name='x_min'/>
        <int16_t name='y_min'/>
        <int16_t name='x_max'/>
        <int16_t name='y_max'/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
    </class-type>

    <class-type type-name='viewscreen_export_regionst' inherits-from='viewscreen'>
        <int8_t/>
        <compound name='state'>
            <stl-vector name='unit_chunk_ids' type-name='int32_t'/>
            <stl-vector name='unit_chunk_slots' type-name='int16_t'/>
            <stl-vector name='offload_units' pointer-type='unit'/>
            <pointer type-name='unit_chunk' name='cur_chunk'/>
            <int32_t name='cur_chunk_id'/>
            <int32_t name='offload_count'/>
        </compound>
    </class-type>

    <class-type type-name='viewscreen_new_regionst' inherits-from='viewscreen'>
        <stl-vector pointer-type='worldgen_parms' name='parms'/>
        <int8_t name='advanced'/>
        <int8_t/>
        <int32_t/>
        <stl-string/>
        <int8_t name='random_seed'/>
        <int8_t name='custom_seed'/>
        <int8_t/>
        <int8_t name='prompt_delete'/>
        <int8_t name='prompt_change_dim'/>
        <int16_t/>?
        <int16_t/>?
        <int8_t name='prompt_abort'/>
        <int8_t name='prompt_continue'/>
        <int8_t/>
        <int8_t name='stopped_early'/>
        <int8_t name='warn_reject'/>
        <int32_t/>?
        <stl-vector pointer-type='stl-string' name='textbox'/>
        <stl-vector pointer-type='stl-string'/>
    </class-type>

    <struct-type type-name='region_snapshot'>
        <int32_t name='year'/>
        <compound name='claims' type-name='entity_claim_mask'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
    </struct-type>

    <class-type type-name='viewscreen_legendsst' inherits-from='viewscreen'>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <stl-vector name='histfigs' type-name='int32_t' ref-target='historical_figure'/>
        <stl-vector name='sites' type-name='int32_t' ref-target='world_site'/>
        <stl-vector name='artifacts' type-name='int32_t' ref-target='artifact_record'/>
        <stl-vector name='regions' type-name='int32_t' ref-target='world_region'/>
        <stl-vector name='entities' type-name='int32_t' ref-target='historical_entity'/>
        <stl-vector name='structure_sites' type-name='int32_t' ref-target='world_site'/>
        <stl-vector name='structures' type-name='int32_t' ref-target='abstract_building'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector type-name='int32_t' ref-target='history_event_collection'/>
        <stl-bit-vector/>
        <stl-vector/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector type-name='int32_t' ref-target='history_event_collection'/>
        <stl-vector type-name='int32_t'/>
        <stl-string name='title'/>
        <int16_t name='section'/>
        <int32_t name='era'/>
        <int32_t/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <int32_t name='cursor'/>
        <int8_t/>
        <stl-vector pointer-type='region_snapshot' name='snapshots'/>
        <int16_t name='width'/>
        <int16_t name='height'/>
        <int16_t/>
        <int16_t/>
        <int16_t name='snapshot_idx'/>
        <stl-string name='search_filter'/>
        <bool name='in_search'/>
        <stl-vector name='matching_histfigs' type-name='int32_t'/>
        <stl-vector name='matching_sites' type-name='int32_t'/>
        <stl-vector name='matching_artifacts' type-name='int32_t'/>
        <stl-vector name='matching_regions' type-name='int32_t'/>
        <stl-vector name='matching_entities' type-name='int32_t'/>
        <stl-vector name='matching_structures' type-name='int32_t'/>
    </class-type>

    <class-type type-name='viewscreen_titlest' inherits-from='viewscreen'>
        <static-string name='str_histories' size='200'/>
        <static-string name='menu_items' size='200'/>
        <enum base-type='int16_t' name="sel_subpage">
            <enum-item name='None'/>
            <enum-item name='StartRegion'/>
            <enum-item name='StartType'/>
        </enum>
        <int32_t name="sel_menu_line"/>
        <int32_t name="sel_submenu_line"/>
        <int8_t name="loading"/>

        <stl-vector type-name="int32_t" name="menu_line_id"/>
        <stl-vector type-name="int32_t" name="submenu_line_id"/>
        <stl-vector pointer-type="stl-string" name="start_savegames"/>
        <stl-vector pointer-type="stl-string" name="continue_savegames"/>
        <stl-string name="str_slaves"/>
        <stl-string name="str_chapter"/>
        <stl-string name="str_copyright"/>
        <stl-string name="str_version"/>
        <stl-string name="str_programmed"/>
        <stl-string name="str_designed"/>
        <stl-string name="str_visit"/>
        <stl-string name="str_site"/>
    </class-type>

    <class-type type-name='viewscreen_game_cleanerst' inherits-from='viewscreen'>
        <int32_t name='state'/>
        <bool name='show_msg'/>
    </class-type>

    <class-type type-name='viewscreen_announcelistst' inherits-from='viewscreen'>
        <int32_t name='position'/>
    </class-type>

    <class-type type-name='viewscreen_kitchenprefst' inherits-from='viewscreen'>
        <int32_t name='cursor'/>
        <stl-vector name='item_types' type-name='int16_t'/>
        <stl-vector name='item_subtypes' type-name='int16_t'/>
        <stl-vector name='materials' type-name='int16_t'/>
        <stl-vector name='matglosses' type-name='int16_t'/>
        <stl-vector name='quantities' type-name='int32_t'/>
        <stl-vector name='cur_flags' type-name='int8_t'/>
        <stl-vector name='valid_flags' type-name='int8_t'/>
    </class-type>

    <class-type type-name='viewscreen_petst' inherits-from='viewscreen'>
        <int32_t name="cursor"/>

        <stl-vector name="animal">
            <compound is-union='true'>
                <pointer name='unit' type-name='unit'/>
                <pointer name='item' type-name='item_critter'/>
            </compound>
        </stl-vector>

        <stl-vector name="is_vermin" type-name='bool'/>
        <stl-vector name="pet_info" pointer-type='pet_info'/>
        <stl-vector name="is_tame" type-name='bool'/>
        <stl-vector name="is_adopting" type-name='bool'/>
    </class-type>

    <class-type type-name='viewscreen_pricest' inherits-from='viewscreen'>
        <int16_t name='cursor1'/>
        <int32_t name='cursor2'/>
    </class-type>

    <class-type type-name='viewscreen_justicest' inherits-from='viewscreen'>
        <int16_t name='jails_needed'/>
        <int16_t name='jails_present'/>
        <int32_t/>
        <stl-vector name='criminals' pointer-type='unit'/>
        <stl-vector name='crimes' pointer-type='crime_info'/>
        <pointer name='cur_punish' type-name='punishment_info'/>
    </class-type>

    <class-type type-name='viewscreen_overallstatusst' inherits-from='viewscreen'>
        <int16_t name='cursor'/>
        <int16_t name='cursor_max' comment='based on status of Economy and Justice'/>
    </class-type>

    <class-type type-name='viewscreen_storesst' inherits-from='viewscreen'>
        <static-string name='title' size='200'/>
        <int32_t name="category_cursor"/>
        <int32_t name="item_cursor"/>
        <int16_t name='in_right_list'/>
        <int16_t name='in_group_mode'/>
        <stl-vector name="category_total" type-name='int32_t' index-enum='item_type'/>
        <stl-vector name="category_busy" type-name='int32_t' index-enum='item_type'/>
        <stl-vector name="items">
            <pointer type-name="item"/>
        </stl-vector>
        <compound name='group'>
            <stl-vector name='item_type'>
                <enum base-type='int16_t' type-name='item_type'/>
            </stl-vector>
            <stl-vector name="item_subtype">
                <int16_t refers-to='(item-subtype-target $$._global.group_item_type[$$._key] $)'/>
            </stl-vector>

            <stl-vector name='material'>
                <enum base-type='int16_t' type-name='material_type'/>
            </stl-vector>
            <stl-vector name='matgloss'>
                <int16_t refers-to='(matgloss-target $$._parent._parent.material[$$._key] $)'/>
            </stl-vector>
            <stl-vector name="count" type-name='int32_t'/>
        </compound>
        <stl-vector name="category_order">
            <enum base-type='int16_t' type-name='item_type'/>
        </stl-vector>
        <bool name="can_zoom"/>
    </class-type>

    <class-type type-name='viewscreen_wagesst' inherits-from='viewscreen'>
        <int16_t name='page'/>
    </class-type>

    <class-type type-name='viewscreen_jobmanagementst' inherits-from='viewscreen'>
        <int32_t name='sel_idx'/>
    </class-type>

    <class-type type-name='viewscreen_createquotast' inherits-from='viewscreen'>
        <static-string name='str_filter' size='200'/>
        <int32_t name='top_idx'/>
        <int32_t name='sel_idx'/>
        <stl-vector name='orders'>
            <pointer type-name='manager_order_template'/>
        </stl-vector>
        <stl-vector type-name='int32_t'/>
        <bool name='want_quantity'/>
    </class-type>

    <class-type type-name='viewscreen_unitjobsst' inherits-from='viewscreen'>
        <enum base-type='int8_t' name="mode">
            <enum-item name='Jobs'/>
            <enum-item name='Units'/>
        </enum>
        <bool name="allow_zoom"/>
        <int32_t name="cursor_pos"/>
        <stl-vector name="jobs" pointer-type='job'/>
        <stl-vector name="units" pointer-type="unit"/>
    </class-type>

    <class-type type-name='viewscreen_treasurelistst' inherits-from='viewscreen'>
        <int32_t name='sel_idx'/>
    </class-type>

    <class-type type-name='viewscreen_entityst' inherits-from='viewscreen'>
        <pointer name='entity' type-name='historical_entity'/>
        <stl-vector name='unused_vec' type-name='pointer'/>
        <int32_t name='unused_cursor'/>
        <stl-vector name='members' pointer-type='nemesis_record'/>
        <stl-vector name='member_rank' type-name='int32_t'/>
        <int32_t name='member_cursor'/>
        <stl-vector name='agreements' pointer-type='meeting_event'/>
        <stl-vector name='agreement_status' type-name='int8_t'/>
        <int32_t name='agreement_cursor'/>
        <int16_t name='page'/>
    </class-type>

    <class-type type-name='viewscreen_civlistst' inherits-from='viewscreen'>
        <int32_t name='cursor'/>
        <stl-vector name='civs' pointer-type='historical_entity'/>
    </class-type>

    <class-type type-name='viewscreen_squadst' inherits-from='viewscreen'>
        <pointer name='leader' type-name='unit'/>
    </class-type>

    <class-type type-name='viewscreen_commandchainst' inherits-from='viewscreen'>
        <stl-vector name='units' pointer-type='unit'/>
        <stl-vector name='squad_level' type-name='int32_t'/>
        <int32_t name='row'/>
        <int32_t name='column'/>
        <int32_t name='promote_idx'/>
        <bool name='in_weapons'/>
        <int16_t name='royalguards_needed'/>
        <int16_t name='royalguards_present'/>
        <int16_t name='fortguards_needed'/>
        <int16_t name='fortguards_present'/>
    </class-type>

    <class-type type-name='viewscreen_buildinglistst' inherits-from='viewscreen'>
        <int32_t name='cursor' refers-to='$$._parent.buildings[$]'/>
        <bool name='alt_right_panel'/>
        <stl-vector name='buildings' pointer-type='building'/>
        <stl-vector name='buildings2' pointer-type='building'/>
        <stl-vector name='room_value' type-name='int32_t' index-refers-to='$$._parent.buildings[$]'/>
        <stl-vector name='room_value2' type-name='int32_t' index-refers-to='$$._parent.buildings2[$]'/>
    </class-type>

    <class-type type-name='viewscreen_noblest' inherits-from='viewscreen'>
        <int32_t name='offerings'/>
    </class-type>

    <class-type type-name='viewscreen_itemst' inherits-from='viewscreen'>
        <pointer name="item" type-name="item"/>
        <stl-vector name="entry_ref" pointer-type="general_ref"/>
        <stl-vector name='entry_type' type-name='int16_t'/>
        <stl-vector name='contaminants' pointer-type='contaminant'/>
        <stl-vector name='uses' pointer-type='stl-string'/>
        <stl-vector name='uses_idx' type-name='int32_t'/>
        <int32_t name="cursor_pos"/>
        <bool name='has_uses'/>
        <bool name='has_contents'/>
    </class-type>

    <class-type type-name='viewscreen_buildingst' inherits-from='viewscreen'>
        <pointer name='building' type-name='building'/>
    </class-type>

    <class-type type-name='viewscreen_jobst' inherits-from='viewscreen'>
        <pointer name='job' type-name='job'/>
    </class-type>

    <class-type type-name='viewscreen_layer_noblelistst' inherits-from='viewscreen_layer'>
        <enum name='mode' base-type='int16_t'>
            <enum-item name='List'/>
            <enum-item name='Appoint'/>
            <enum-item name='Settings'/>
        </enum>

        <stl-vector name="info">
            <pointer>
                <pointer name="unit" type-name="unit"/>
                <pointer name="nemesis" type-name="nemesis_record"/>
                <pointer name="unk_8"/>
                <int32_t name="group" ref-target='historical_entity'/>
                <int32_t name="precedence"/>
            </pointer>
        </stl-vector>

        <stl-vector name="candidates">
            <pointer>
                <pointer name='unit' type-name='unit'/>
                <int32_t name='weight'/>
            </pointer>
        </stl-vector>

        <stl-vector type-name='int32_t'/>
    </class-type>

    <class-type type-name='viewscreen_layer_stone_restrictionst' inherits-from='viewscreen_layer'>
        <stl-vector name='stones' type-name='int32_t' ref-target='matgloss_stone'/>
        <stl-vector pointer-type='static-string'/>
        <stl-vector name='uses' pointer-type='stl-string'/>
        <stl-vector name='uses_idx' type-name='int32_t'/>
    </class-type>

    <class-type type-name='viewscreen_layer_reactionst' inherits-from='viewscreen_layer'>
        <pointer name='reaction' type-name='reaction'/>
    </class-type>

    <class-type type-name='viewscreen_layer_currencyst' inherits-from='viewscreen_layer'>
        <stl-vector name='coin_counts' type-name='int32_t' comment='index refers to matgloss_metal'/>
        <int32_t name='recommended_quantity'/>
        <stl-vector name='currency_metals' type-name='int16_t' ref-target='matgloss_metal'/>
    </class-type>

    <class-type type-name='viewscreen_optionst' inherits-from='viewscreen'>
        <int8_t name='msg_quit'/>
        <int8_t name='in_retire'/>
        <int8_t name='msg_peasant'/>
        <int8_t name='in_quit'/>
        <int8_t name='ending_game'/>
        <int32_t name='cursor'/>
    </class-type>

    <struct-type type-name='world_dat_summary'>
        <stl-string name='filename'/>
        <compound type-name='language_name' name='name'/>
        <stl-string name='title'/>
        <static-array count='15' type-name='int8_t' name='gamemode_flags'/>
        <int32_t name='save_slot_num'/>
        <int32_t name='next_unit_id'/>
        <int32_t name='next_item_id'/>
        <int32_t name='next_entity_id'/>
        <int32_t name='next_nemesis_id'/>
        <int32_t name='next_artifact_id'/>
        <int32_t name='next_building_id'/>
        <int32_t name='next_hist_figure_id'/>
        <int32_t name='next_hist_event_id'/>
        <int32_t name='next_unit_chunk_id'/>
        <int32_t name='next_art_image_chunk_id'/>
        <int32_t name='next_task_id'/>
    </struct-type>

    <struct-type type-name='world_sav_summary'>
        <int32_t name='next_unit_id'/>
        <int32_t name='next_item_id'/>
        <int32_t name='next_entity_id'/>
        <int32_t name='next_nemesis_id'/>
        <int32_t name='next_artifact_id'/>
        <int32_t name='next_job_id'/>
        <int32_t name='next_schedule_id'/>
        <int32_t name='next_projectile_id'/>
        <int32_t name='next_building_id'/>
        <int32_t name='next_machine_id'/>
        <int32_t name='next_hist_figure_id'/>
        <int32_t name='next_hist_event_id'/>
        <int32_t name='next_hist_event_col_id'/>
        <int32_t name='next_unit_chunk_id'/>
        <int32_t name='next_art_image_chunk_id'/>
        <int32_t name='next_task_id'/>
        <enum base-type='int16_t' name='game_type' type-name='game_type'/>
        <int32_t name='game_mode'/>
        <stl-string name='fort_name'/>
        <stl-string name='world_name'/>
        <int32_t name='year'/>
        <stl-string name='folder_name'/>
    </struct-type>

    <class-type type-name='viewscreen_loadgamest' inherits-from='viewscreen'>
        <int8_t name='loading'/>
        <int32_t name='sel_idx'/>
        <stl-vector name='saves' pointer-type='world_sav_summary'/>
    </class-type>

    <class-type type-name='viewscreen_savegamest' inherits-from='viewscreen'>
        <int8_t name='saving'/>
        <stl-string name='filename'/>
    </class-type>

    <class-type type-name='viewscreen_keybindingsst' inherits-from='viewscreen'>
        <stl-vector name='allowed_key' type-name='int32_t'/>
        <int32_t name='selected'/>
        <int8_t name='binding'/>
    </class-type>

    <class-type type-name='viewscreen_customize_unitst' inherits-from='viewscreen'>
        <pointer name="unit" type-name="unit"/>
        <int8_t name='editing_nickname'/>
        <int8_t name='editing_profession'/>
        <stl-string name='edit_buffer'/>
        <int8_t name='has_name'/>
    </class-type>

    <class-type type-name='viewscreen_unitst' inherits-from='viewscreen'>
        <pointer name="unit" type-name="unit"/>
        <static-array count='5' type-name='int32_t'/>
    </class-type>

    <class-type type-name='viewscreen_layer_workshop_profilest' inherits-from='viewscreen_layer'>
        <pointer name="profile" type-name='workshop_profile'/>

        <stl-vector name="workers" pointer-type='unit'/>
    </class-type>

    <class-type type-name='viewscreen_layer_unit_relationshipst' inherits-from='viewscreen_layer'>
        <pointer name='unit' type-name='unit'/>
        <stl-vector name='relate_textline' pointer-type='stl-string'/>
        <stl-vector name='relate_unit_type' type-name='int16_t'/>
        <stl-vector name='relate_histfig_type' type-name='int16_t'/>
        <stl-vector name='relate_unit' pointer-type='unit'/>
        <stl-vector name='relate_histfig' pointer-type='historical_figure'/>
        <stl-vector name='relate_level' type-name='int32_t'/>
    </class-type>

    <class-type type-name='viewscreen_layer_musicsoundst' inherits-from='viewscreen_layer'/>

    <class-type type-name='viewscreen_layer_export_play_mapst' inherits-from='viewscreen_layer'>
        <stl-vector type-name='int8_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
    </class-type>

    <struct-type type-name='worldgen_parms'>
        <stl-string name='title'/>
        <uint32_t name='seed'/>
        <uint32_t name='history_seed'/>
        <uint32_t name='name_seed'/>
        <int32_t name='dim_x'/>
        <int32_t name='dim_y'/>
        <stl-string name='custom_name'/>
        <bool name='has_seed'/>
        <bool name='has_history_seed'/>
        <bool name='has_name_seed'/>
        <int32_t name='peak_number_min'/>
        <int32_t name='ocean_edge_min'/>
        <int32_t name='volcano_min'/>
        <static-array name='region_counts' count='3'>
            <static-array type-name='int32_t' count='10' index-enum='region_biome_type'/>
        </static-array>
        <static-array type-name='int32_t' name='river_mins' count='2'/>
        <int32_t name='subregion_max'/>
        <int32_t name='cave_min_size'/>
        <int32_t name='cave_max_size'/>
        <int32_t name='mountain_cave_min'/>
        <int32_t name='non_mountain_cave_min'/>
        <int32_t name='total_civ_number'/>
        <int32_t name='rain_ranges_1'/>
        <int32_t name='rain_ranges_0'/>
        <int32_t name='rain_ranges_2'/>
        <int32_t name='drainage_ranges_1'/>
        <int32_t name='drainage_ranges_0'/>
        <int32_t name='drainage_ranges_2'/>
        <int32_t name='savagery_ranges_1'/>
        <int32_t name='savagery_ranges_0'/>
        <int32_t name='savagery_ranges_2'/>
        <int32_t name='volcanism_ranges_1'/>
        <int32_t name='volcanism_ranges_0'/>
        <int32_t name='volcanism_ranges_2'/>
        <static-array count='4' name='ranges'>
            <static-array type-name='int32_t' count='24' index-enum='region_property_type'/>
        </static-array>
        <int32_t name='beast_end_year'/>
        <int32_t name='end_year'/>
        <int32_t name='beast_end_year_percent'/>
        <int32_t name='total_civ_population'/>
        <int32_t name='elevation_ranges_1'/>
        <int32_t name='elevation_ranges_0'/>
        <int32_t name='elevation_ranges_2'/>
        <static-array name='sq_counts' count='3'>
            <int32_t name='good'/>
            <int32_t name='evil'/>
        </static-array>
        <static-array type-name='int32_t' name='elevation_frequency' count='6'/>
        <static-array type-name='int32_t' name='rain_frequency' count='6'/>
        <static-array type-name='int32_t' name='drainage_frequency' count='6'/>
        <static-array type-name='int32_t' name='savagery_frequency' count='6'/>
        <static-array type-name='int32_t' name='temperature_frequency' count='6'/>
        <static-array type-name='int32_t' name='volcanism_frequency' count='6'/>
        <pointer type-name='worldgen_parms_ps' name='ps'/>
        <int32_t name='reveal_all_history'/>
        <int32_t name='cull_historical_figures'/>
        <int32_t name='erosion_cycle_count'/>
        <int32_t name='periodically_erode_extremes'/>
        <int32_t name='orographic_precipitation'/>
        <int32_t name='playable_civilization_required'/>
        <int32_t name='all_caves_visible'/>
        <int32_t name='show_embark_river'/>
        <int32_t name='show_embark_pool'/>
        <int32_t name='show_embark_m_pool'/>
        <int32_t name='show_embark_m_pipe'/>
        <int32_t name='show_embark_chasm'/>
        <int32_t name='show_embark_pit'/>
        <int32_t name='show_embark_other'/>
        <int32_t name='show_embark_tunnel'/>
        <bool/>
    </struct-type>

    <struct-type type-name='worldgen_parms_ps'>
        <int32_t name='width'/>
        <int32_t name='height'/>
        <static-array count='24' name='data' index-enum='region_property_type'>
            <pointer is-array='true'><pointer is-array='true' type-name='int16_t'/></pointer>
        </static-array>
    </struct-type>

    <class-type type-name='viewscreen_layer_world_gen_paramst' inherits-from='viewscreen_layer'>
        <pointer type-name='worldgen_parms' name='parms'/>
        <stl-string name='name'/>
        <stl-vector name='controls' comment='pointer-type=world_gen_param_basest'/>
        <compound type-name='worldgen_parms_ps' name='ps'/>
    </class-type>

    <class-type type-name='viewscreen_layer_world_gen_param_presetst' inherits-from='viewscreen_layer'>
        <pointer name='parms' type-name='worldgen_parms'/>
        <pointer name='ps' type-name='worldgen_parms_ps'/>
        <stl-string/>
        <static-array type-name='int16_t' count='24'/>
        <static-array type-name='int8_t' count='24'/>
        <int32_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
    </class-type>

    <class-type type-name='viewscreen_layer_stockpilest' inherits-from='viewscreen_layer'>
        <pointer name="settings" type-name='stockpile_settings'/>
        <enum name="cur_group" type-name='stockpile_list' base-type='int32_t'/>
        <enum name="cur_list" type-name='stockpile_list' base-type='int32_t'/>
        <stl-vector name="group_ids">
            <enum type-name='stockpile_list' base-type='int32_t'/>
        </stl-vector>
        <stl-vector name="group_bits">
            <compound type-name='item_category'/>
        </stl-vector>
        <stl-vector name="list_ids">
            <enum type-name='stockpile_list' base-type='int32_t'/>
        </stl-vector>
        <stl-vector name="item_names" pointer-type='stl-string'/>
        <stl-vector name="item_status" pointer-type='bool'/>
    </class-type>

    <class-type type-name='viewscreen_movieplayerst' inherits-from='viewscreen'>
        <int8_t name='saving'/>
        <int8_t name='loading'/>
        <int8_t name='editing'/>
        <int8_t name='text_mode'/>
        <uint8_t name='editing_char'/>
        <int32_t name='editing_copy_from'/>
        <int16_t name='editing_screenf'/>
        <int16_t name='editing_screenb'/>
        <int16_t name='editing_screenbright'/>
        <int32_t name='editing_selected_sound'/>
        <int8_t name='editing_menu'/>
        <stl-string name='savename'/>
        <stl-string name='force_file'/>
        <int8_t name='is_playing'/>
        <int8_t name='is_forced_play'/>
        <int8_t name='quit_if_no_play'/>
        <int32_t name='maxmoviepos'/>
        <int32_t name='end_frame_pos'/>
        <int32_t name='selfile'/>
        <stl-vector name='filelist' type-name='ptr-string'/>
    </class-type>

    <class-type type-name='viewscreen_textviewerst' inherits-from='viewscreen'>
        <stl-string name='title'/>
        <stl-string name='title_colors'/>
        <stl-vector name='src_text' pointer-type='stl-string'/>
        <stl-string name='outvar_type'/>
        <stl-string name='outvar_name'/>
        <compound name='meeting_context' type-name='meeting_context'/>
        <stl-string name='help_filename' comment='relative to data/help'/>
        <stl-string name='page_filename' comment='relative to root'/>
        <stl-vector name='formatted_text'>
            <pointer>
                <ptr-string name="text"/>   NULL for empty lines
                <ptr-string name="format"/>
                <bitfield base-type='uint16_t' name='flags'>
                    <flag-bit name='hyperlink'/>
                    <flag-bit name='no_newline'/>
                </bitfield>
                <int32_t name='pause_depth'/>
                <int32_t name='return_val'/>
                <int32_t name='indent'/>
            </pointer>
        </stl-vector>
        <stl-vector name="hyperlinks" pointer-type="static-string" comment="link targets, same length as text_display"/>
        <int8_t name='logged_error'/>
        <int32_t name="scroll_pos" comment="vertical scrollbar position"/>
        <int32_t name="cursor_line" comment="on hyperlink lines"/>
        <int32_t name='pause_depth'/>
    </class-type>

    <class-type type-name='viewscreen_tradelistst' inherits-from='viewscreen'>
        <int32_t name='cursor' comment='speculated'/>
        <pointer name='depot' type-name='building_tradedepotst'/>
        <stl-vector name='caravans' pointer-type='caravan_state'/>
    </class-type>

    <class-type type-name='viewscreen_tradegoodsst' inherits-from='viewscreen'>
        <static-string name='title' size='200'/>
        <stl-string name="merchant_name"/>
        <stl-string name="merchant_entity"/>
        <pointer name="depot" type-name="building_tradedepotst"/>
        <pointer name="caravan" type-name="caravan_state"/>
        <pointer name="entity" type-name="historical_entity"/>
        <bool name='is_unloading'/>
        <bool name='has_traders'/>
        <static-array name='units' count='2'><pointer type-name='unit'/></static-array>
        <static-array name='items' count='2'><stl-vector pointer-type='item'/></static-array>
        <static-array name='selected' count='2'><stl-vector type-name='uint8_t'/></static-array>
        <static-array name='cursor' count='2' type-name='int32_t'/>
        <bool name="in_right_pane"/>
        <int16_t name='trade_reply'/>
        <int8_t/>
        <int8_t/>
        <int32_t/>
        <int8_t name="has_offer"/>
        <stl-vector/>
    </class-type>

    <class-type type-name='viewscreen_barterst' inherits-from='viewscreen'>
        <static-array name='units' count='2'><pointer type-name='unit'/></static-array>
        <pointer name='shop' type-name='building_civzonest'/>
        <static-array name='items' count='2'><stl-vector pointer-type='item'/></static-array>
        <static-array name='selected' count='2'><stl-vector type-name='uint8_t'/></static-array>
        <stl-vector pointer-type='item'/>
        <static-array name='cursor' count='2' type-name='int32_t'/>
        <bool name="in_right_pane"/>
        <int16_t name='trade_reply'/>
        <int8_t/>
        <int32_t name='max_ask'/>
        <int32_t name='max_offer'/>
        <int32_t name='cur_ask'/>
        <int32_t name='cur_offer'/>
    </class-type>

    <class-type type-name='viewscreen_meetingst' inherits-from='viewscreen'>
        <pointer type-name='dipscript_popup' name='popup'/>
        <pointer type-name='activity_info' name='activity'/>
        <pointer type-name='unit' name='holder'/>
    </class-type>

    <class-type type-name='viewscreen_topicmeetingst' inherits-from='viewscreen'>
        <pointer name='popup' type-name='dipscript_popup'/>
        <pointer name='meeting' type-name='meeting_diplomat_info'/>
    </class-type>

    <class-type type-name='viewscreen_topicmeeting_takerequestsst' inherits-from='viewscreen'>
        <static-string size='200' name='title'/>
        <pointer name='popup' type-name='dipscript_popup'/>
        <pointer name='meeting' type-name='meeting_diplomat_info'/>
        <stl-vector name='visible_categories'><enum type-name='entity_sell_category' base-type='int16_t'/></stl-vector>
        <int32_t name='cursor_left'/>
        <int32_t name='cursor_right'/>
    </class-type>

    <class-type type-name='viewscreen_tradeagreementst' inherits-from='viewscreen'>
        <pointer type-name='entity_sell_prices' name='requests'/>
        <int32_t ref-target='historical_entity' name='civ_id'/>
        <stl-vector name='visible_categories'><enum type-name='entity_sell_category' base-type='int16_t'/></stl-vector>
        <int32_t name='cursor_left'/>
        <int32_t name='cursor_right'/>
        <static-string size='200' name='title'/>
        <pointer type-name='historical_entity' name='civ'/>
    </class-type>

    <class-type type-name='viewscreen_requestagreementst' inherits-from='viewscreen'>
        <pointer type-name='entity_buy_prices' name='requests'/>
        <int32_t ref-target='historical_entity' name='civ_id'/>
        <int32_t name='cursor'/>
        <static-string size='200' name='title'/>
        <pointer type-name='historical_entity' name='civ'/>
    </class-type>

    <struct-type type-name='assign_trade_status'> assumed
        <pointer name='item' type-name='item'/>
        <int32_t name="distance"/>
        <enum base-type='int8_t' name="status">
            <enum-item name='RemoveTrading' value='-2'/>
            <enum-item name='RemovePending'/>
            <enum-item name='None'/>
            <enum-item name='AddPending'/>
            <enum-item name='Pending'/>
            <enum-item name='Trading'/>
        </enum>
        <bool name='unk' comment='mandate?'/>
        <int32_t name="value"/>
        <int32_t name="weight"/>
    </struct-type>

    <class-type type-name='viewscreen_layer_assigntradest' inherits-from='viewscreen_layer'>
        <stl-vector name='info'>
            <pointer type-name='assign_trade_status'/>
        </stl-vector>
        <pointer name='depot' type-name='building_tradedepotst'/>
        <static-array name='lists' count='44'>
            <stl-vector>
                <int32_t refers-to='$$._global.info[$]'/>
            </stl-vector>
        </static-array>
        <stl-vector name='visible_lists' type-name='int16_t'/>
        <bool name='sort_distance'/>
        <bool name='pending_on_top'/>
        <bool name='filter_mandates'/>
        <stl-string name='filter'/>
    </class-type>

    <enum-type type-name='embark_finder_option'>
        <enum-item name='DimensionX'/>
        <enum-item name='DimensionY'/>
        <enum-item name='Savagery'/>
        <enum-item name='Evil'/>
        <enum-item name='Elevation'/>
        <enum-item name='Temperature'/>
        <enum-item name='Rain'/>
        <enum-item name='Drainage'/>
        <enum-item name='FluxStone'/>
        <enum-item name='Aquifer'/>
        <enum-item name='River'/>
        <enum-item name='UndergroundRiver'/>
        <enum-item name='UndergroundPool'/>
        <enum-item name='MagmaPool'/>
        <enum-item name='MagmaPipe'/>
        <enum-item name='Chasm'/>
        <enum-item name='BottomlessPit'/>
        <enum-item name='OtherFeatures'/>
    </enum-type>

    <class-type type-name='viewscreen_choose_start_sitest' inherits-from='viewscreen'>
        <enum base-type='int32_t' name='page'>
            <enum-item name='Biome'/>
            <enum-item name='Neighbors'/>
            <enum-item name='Civilization'/>
            <enum-item name='Elevation'/>
            <enum-item name='Cliffs'/>
            <enum-item name='Reclaim'/>
            <enum-item name='Reclaim2'/>
            <enum-item name='Find'/>
            <enum-item name='Notes'/>
        </enum>

        <compound name='region_pos' type-name='coord2d'/>
        <int32_t name="reclaim_site" ref-target='world_site'/>
        <compound name='biome_rgn' type-name='coord2d_path'/>

        <compound name='embark_pos_min' type-name='coord2d'/>
        <compound name='embark_pos_max' type-name='coord2d'/>
        <compound name='embark_biome_rgn' type-name='coord2d'
                  comment='Valid only after e pressed.'/>
        <int32_t name="biome_idx"/>
        <bool name="biome_highlighted"/>
        <bool name='in_embark_aquifer'/>
        <bool name='in_embark_salt'/>
        <bool name='in_embark_large'/>
        <bool name="in_embark_normal"/>
        <stl-vector name="highlighted_sites" pointer-type='world_site'/>
        <stl-vector name="local_sites" pointer-type='world_site'/>
        <int32_t/>
        <int32_t name="civ_idx" refers-to='$$._global.available_civs[$]'/>
        <stl-vector name="available_civs" pointer-type="historical_entity"/>
        <compound name='finder'>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <static-array type-name='int32_t' name="options"
                          count="18" index-enum='embark_finder_option'/>
            <static-array type-name='bool' name="unmatched"
                          count="18" index-enum='embark_finder_option'/>
            <stl-vector name="visible_options">
                <enum base-type='int32_t' type-name='embark_finder_option'/>
            </stl-vector>
            <int16_t/>
            <int16_t/>
            <int16_t/>
            <int16_t/>
            <int16_t/>
            <int16_t/>
            <int16_t/>
        </compound>
        <stl-vector name="notes_order" type-name='int32_t' refers-to='$global.world.world_data.embark_notes[$]'/>
        <stl-vector name="cur_note_name" pointer-type='stl-string'/>
        <int8_t/>
        <int32_t/>
        <int16_t/>
        <int8_t name="note_tile"/>
        <int16_t name="note_fg_color"/>
        <int16_t name="note_bg_color"/>
        <int32_t/>
    </class-type>

    <struct-type type-name='embark_item_choice'>
        <static-array count='103'>
            <stl-vector/>
        </static-array>
        <stl-vector/>
        <stl-vector/>
    </struct-type>

    <struct-type type-name='embark_profile'>
        <stl-string name='name'/>
        <stl-vector name='skill_type' type-name='int16_t'/>
        <stl-vector name='skill_dwarf_idx' type-name='int16_t'/>
        <stl-vector name='skill_level' type-name='int16_t'/>

        <stl-vector name='reclaim_dwarf_idx' type-name='int16_t'/>
        <stl-vector name='reclaim_prof1' type-name='int16_t'/>
        <stl-vector name='reclaim_prof2' type-name='int16_t'/>

        <stl-vector name='item_type' type-name='int16_t'/>
        <stl-vector name='item_subtype' type-name='int16_t'/>
        <stl-vector name='material' type-name='int16_t'/>
        <stl-vector name='matgloss' type-name='int16_t'/>
        <stl-vector name='item_count' type-name='int32_t'/>

        <stl-vector name='pet_race' type-name='int32_t' ref-target='creature_raw'/>
        <stl-vector name='pet_prof' type-name='profession'/>
        <stl-vector name='pet_count' type-name='int32_t'/>
    </struct-type>

    <struct-type type-name='embark_location'>
        <compound name='region_pos' type-name='coord2d'/>
        <int16_t name='reclaim_site'/>
        <int16_t name='reclaim_idx'/>
        <compound name='biome_rgn' type-name='coord2d_path'/>
        <compound name='embark_pos_min' type-name='coord2d'/>
        <compound name='embark_pos_max' type-name='coord2d'/>
        <compound name='embark_biome_rgn' type-name='coord2d'/>
    </struct-type>

    <class-type type-name='viewscreen_setupdwarfgamest' inherits-from='viewscreen'>
        <static-string size='200' name='title'/>
        <stl-vector name='dwarf_info' pointer-type='setup_character_info'/>
        <stl-vector name='embark_skills'>
            <enum type-name='job_skill' base-type='int16_t'/>
        </stl-vector>
        <stl-vector name='reclaim_professions'>
            <enum type-name='profession' base-type='int16_t'/>
        </stl-vector>
        <enum base-type='int32_t' name='mode'>
            <enum-item name='Dwarves'/>
            <enum-item name='Items'/>
        </enum>
        <int32_t name='dwarf_cursor'/>
        <int32_t name='dwarf_page_idx'/>
        <int32_t name='item_cursor'/>
        <int32_t name='skill_cursor'/>
        <int32_t name='animal_cursor'/>
        <int32_t name='dwarf_column'/>
        <int32_t name='supply_column'/>
        <int32_t name='display_row'/>
        <int8_t name='show_play_now'/>
        <stl-vector name='choice_types'>
            <enum base-type='int8_t' name='choice_types'>
                <enum-item name='PlayNow'/>
                <enum-item name='Prepare'/>
                <enum-item name='Profile'/>
            </enum>
        </stl-vector>
        <stl-vector name='choices' pointer-type='embark_profile'/>
        <int32_t name='choice'/>
        <stl-string name='profile_name'/>
        <stl-vector name='problems' pointer-type='stl-string'/>
        <int32_t/>
        <int8_t name='in_problems'/>
        <int8_t name='in_save_profile'/>
        <int8_t name='profile_name_conflict'/>
        <compound name='embark_items' type-name='embark_item_choice'/>
        <stl-vector type-name='pointer'/>
        <compound name='fort_name' type-name='language_name'/>
        <compound name='group_name' type-name='language_name'/>
        <int8_t/>
        <compound name='location' type-name='embark_location'/>
        <stl-vector name='units' pointer-type='unit'/>
        <stl-vector name='items' pointer-type='item'/>
        <int32_t/>
        <int16_t name='points_remaining'/>
        <enum base-type='int16_t' name='add_item_type' type-name='item_type'/>
        <int16_t name='add_item_subtype' refers-to='(item-subtype-target $$._parent.add_item_type $)'/>
        <enum base-type='int16_t' name='add_material' type-name='material_type'/>
        <int16_t name='add_matgloss'/>
        <int8_t name='adding_item'/>
    </class-type>

    <class-type type-name='viewscreen_layer_choose_language_namest' inherits-from='viewscreen_layer'>
        <pointer name='entity' type-name='historical_entity'/>
        <pointer name='name' type-name='language_name'/>
        <enum name='type' type-name='language_name_type' base-type='int32_t'/>
        <enum name='current_component' type-name='language_name_component'/>
        <int32_t name='cur_slot'/>
        <compound name='dictionary' type-name='language_word_table'/>
        <stl-vector name='list_word' type-name='int32_t' ref-target='language_word'/>
        <stl-vector name='list_part' index-refers-to='$$._parent.list_word[$].ref-target'>
            <enum base-type='int32_t' type-name='part_of_speech'/>
        </stl-vector>
        <stl-string name='selector'/>
    </class-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
